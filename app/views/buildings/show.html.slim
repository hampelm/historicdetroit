- content_for :title, @building.title

section.main
  section.content
    h1 =@building.title
    h2.byline = @building.byline

    .page
      .articles
        article
          == @building.description_formatted

          - if @building.last_update?
            .update.small.sans.grayblend Last updated #{@building.last_update.strftime("%d/%m/%Y")}

      aside
        - if admin?
          h3.edit =link_to('Edit', "/admin/building/#{@building.id}/edit")

        - if @building.photo?
          .sidebarbox
            == image_tag @building.photo.sidebar.url

        - if @building.address?
          =@building.address

        - if @building.lat?
          .map.sidebarbox
            #map
          //  img src="https://api.mapbox.com/styles/v1/matth/cjs13vk0m0inf1fqs1wx0qfis/static/geojson(%7B%22type%22%3A%22Point%22%2C%22coordinates%22%3A%5B#{@building.lng}%2C#{@building.lat}%5D%7D)/#{@building.lng},#{@building.lat},11/300x175@2X?access_token=pk.eyJ1IjoibWF0dGgiLCJhIjoiY2pxaWI0azRmMHVsdDN5bDJrYnpjdGo2dSJ9.FDKb_aKILLXV4uJCi6Zyug"
          //  img src="https://api.mapbox.com/styles/v1/matth/cjs13vk0m0inf1fqs1wx0qfis/static/geojson(%7B%22type%22%3A%22Point%22%2C%22coordinates%22%3A%5B#{@building.lng}%2C#{@building.lat}%5D%7D)/#{@building.lng},#{@building.lat},16/300x175@2X?access_token=pk.eyJ1IjoibWF0dGgiLCJhIjoiY2pxaWI0azRmMHVsdDN5bDJrYnpjdGo2dSJ9.FDKb_aKILLXV4uJCi6Zyug"

        - if @building.also_known_as?
          h3 AKA
          =@building.also_known_as

        - if @building.style?
          h3 Style
          =@building.style

        - if @building.status?
          h3 Status
          =@building.status

        - if @building.year_opened?
          h3 Opened
          =@building.year_opened

        - if @building.year_closed?
          h3 Closed
          =@building.year_closed

        - if @building.year_demolished?
          h3 Demolished
          =@building.year_demolished

        - if @building.architects.exists?
          h3 Architects
          ul.architects
            - for architect in @building.architects.distinct
              li #{link_to(architect.title, polymorphic_path(architect))}

        - if @building.galleries.exists?
          h3.standout Galleries
          .galleries
            - for gallery in @building.galleries
              .gallery.sidebarbox
                h4 #{link_to(gallery.title, polymorphic_path(gallery))}
                - if gallery.photo?
                  a{href=url_for(gallery)}
                    == image_tag gallery.photo.sidebar_slim.url

        - if @building.postcards.exists?
          h3.standout Postcards
          .galleries
            .gallery.sidebarbox
              a{href="/buildings/#{@building.slug}/postcards"}
                == image_tag  @building.postcards.first.photo.sidebar_slim.url


<script src='https://unpkg.com/maplibre-gl@1.15.2/dist/maplibre-gl.js'></script>
<link href='https://unpkg.com/maplibre-gl@1.15.2/dist/maplibre-gl.css' rel='stylesheet' />
<script src="https://unpkg.com/pmtiles@2.11.0/dist/index.js"></script>

javascript:
  var building = #{raw @building.to_json};

  maplibregl.accessToken = 'pk.eyJ1IjoibWF0dGgiLCJhIjoicGFzV1ZkWSJ9.KeK3hKmM52XpUEHHx_F8NQ';
    var map = new maplibregl.Map({
    container: 'map', // container id
    center: [building.lat, building.lng].reverse(), // starting position [lng, lat]
    style: {
    "version": 8,
      "sources": {
          "protomaps": {
              "type": "vector",
              "attribution": "<a href=\"https://github.com/protomaps/basemaps\">Protomaps</a> Â© <a href=\"https://openstreetmap.org\">OpenStreetMap</a>",
              "url": "https://api.protomaps.com/tiles/v3.json?key=4ed88297aed858a1"
          }
      },
      "layers": [
          {
              "id": "background",
              "type": "background",
              "paint": {
                  "background-color": "#ffffff"
              }
          },
          {
              "id": "earth",
              "type": "fill",
              "source": "protomaps",
              "source-layer": "earth",
              "paint": {
                  "fill-color": "#ffffff"
              }
          },
          {
              "id": "landuse_park",
              "type": "fill",
              "source": "protomaps",
              "source-layer": "landuse",
              "filter": [
                  "any",
                  [
                      "in",
                      "pmap:kind",
                      "national_park",
                      "park",
                      "cemetery",
                      "protected_area",
                      "nature_reserve",
                      "forest",
                      "golf_course"
                  ]
              ],
              "paint": {
                  "fill-color": [
                      "interpolate",
                      [
                          "linear"
                      ],
                      [
                          "zoom"
                      ],
                      0,
                      "#fcfcfc",
                      12,
                      "#fcfcfc"
                  ]
              }
          },
          {
              "id": "landuse_hospital",
              "type": "fill",
              "source": "protomaps",
              "source-layer": "landuse",
              "filter": [
                  "any",
                  [
                      "==",
                      "pmap:kind",
                      "hospital"
                  ]
              ],
              "paint": {
                  "fill-color": "#f8f8f8"
              }
          },
          {
              "id": "landuse_industrial",
              "type": "fill",
              "source": "protomaps",
              "source-layer": "landuse",
              "filter": [
                  "any",
                  [
                      "==",
                      "pmap:kind",
                      "industrial"
                  ]
              ],
              "paint": {
                  "fill-color": "#fcfcfc"
              }
          },
          {
              "id": "landuse_school",
              "type": "fill",
              "source": "protomaps",
              "source-layer": "landuse",
              "filter": [
                  "any",
                  [
                      "in",
                      "pmap:kind",
                      "school",
                      "university",
                      "college"
                  ]
              ],
              "paint": {
                  "fill-color": "#f8f8f8"
              }
          },
          {
              "id": "landuse_beach",
              "type": "fill",
              "source": "protomaps",
              "source-layer": "landuse",
              "filter": [
                  "any",
                  [
                      "in",
                      "pmap:kind",
                      "beach"
                  ]
              ],
              "paint": {
                  "fill-color": "#f6f6f6"
              }
          },
          {
              "id": "landuse_zoo",
              "type": "fill",
              "source": "protomaps",
              "source-layer": "landuse",
              "filter": [
                  "any",
                  [
                      "in",
                      "pmap:kind",
                      "zoo"
                  ]
              ],
              "paint": {
                  "fill-color": "#f7f7f7"
              }
          },
          {
              "id": "landuse_military",
              "type": "fill",
              "source": "protomaps",
              "source-layer": "landuse",
              "filter": [
                  "any",
                  [
                      "in",
                      "pmap:kind",
                      "military",
                      "naval_base",
                      "airfield"
                  ]
              ],
              "paint": {
                  "fill-color": "#f7f7f7"
              }
          },
          {
              "id": "natural_wood",
              "type": "fill",
              "source": "protomaps",
              "source-layer": "natural",
              "filter": [
                  "any",
                  [
                      "in",
                      "pmap:kind",
                      "wood",
                      "nature_reserve",
                      "forest"
                  ]
              ],
              "paint": {
                  "fill-color": [
                      "interpolate",
                      [
                          "linear"
                      ],
                      [
                          "zoom"
                      ],
                      0,
                      "#fafafa",
                      12,
                      "#fafafa"
                  ]
              }
          },
          {
              "id": "landuse_pedestrian",
              "type": "fill",
              "source": "protomaps",
              "source-layer": "landuse",
              "filter": [
                  "any",
                  [
                      "==",
                      "pmap:kind",
                      "pedestrian"
                  ]
              ],
              "paint": {
                  "fill-color": "#fdfdfd"
              }
          },
          {
              "id": "natural_scrub",
              "type": "fill",
              "source": "protomaps",
              "source-layer": "natural",
              "filter": [
                  "in",
                  "pmap:kind",
                  "scrub",
                  "grassland",
                  "grass"
              ],
              "paint": {
                  "fill-color": [
                      "interpolate",
                      [
                          "linear"
                      ],
                      [
                          "zoom"
                      ],
                      0,
                      "#fafafa",
                      12,
                      "#fafafa"
                  ]
              }
          },
          {
              "id": "natural_glacier",
              "type": "fill",
              "source": "protomaps",
              "source-layer": "natural",
              "filter": [
                  "==",
                  "pmap:kind",
                  "glacier"
              ],
              "paint": {
                  "fill-color": "#fcfcfc"
              }
          },
          {
              "id": "natural_sand",
              "type": "fill",
              "source": "protomaps",
              "source-layer": "natural",
              "filter": [
                  "==",
                  "pmap:kind",
                  "sand"
              ],
              "paint": {
                  "fill-color": "#fafafa"
              }
          },
          {
              "id": "landuse_aerodrome",
              "type": "fill",
              "source": "protomaps",
              "source-layer": "landuse",
              "filter": [
                  "any",
                  [
                      "in",
                      "pmap:kind",
                      "aerodrome"
                  ]
              ],
              "paint": {
                  "fill-color": "#fdfdfd"
              }
          },
          {
              "id": "transit_runway",
              "type": "line",
              "source": "protomaps",
              "source-layer": "transit",
              "filter": [
                  "any",
                  [
                      "in",
                      "pmap:kind_detail",
                      "runway"
                  ]
              ],
              "paint": {
                  "line-color": "#efefef",
                  "line-width": [
                      "interpolate",
                      [
                          "exponential",
                          1.6
                      ],
                      [
                          "zoom"
                      ],
                      10,
                      0,
                      12,
                      4,
                      18,
                      30
                  ]
              }
          },
          {
              "id": "transit_taxiway",
              "type": "line",
              "source": "protomaps",
              "source-layer": "transit",
              "minzoom": 13,
              "filter": [
                  "any",
                  [
                      "in",
                      "pmap:kind_detail",
                      "taxiway"
                  ]
              ],
              "paint": {
                  "line-color": "#efefef",
                  "line-width": [
                      "interpolate",
                      [
                          "exponential",
                          1.6
                      ],
                      [
                          "zoom"
                      ],
                      13,
                      0,
                      13.5,
                      1,
                      15,
                      6
                  ]
              }
          },
          {
              "id": "water",
              "type": "fill",
              "source": "protomaps",
              "source-layer": "water",
              "paint": {
                  "fill-color": "#dcdcdc"
              }
          },
          {
              "id": "landuse_pier",
              "type": "fill",
              "source": "protomaps",
              "source-layer": "landuse",
              "filter": [
                  "any",
                  [
                      "==",
                      "pmap:kind",
                      "pier"
                  ]
              ],
              "paint": {
                  "fill-color": "#f5f5f5"
              }
          },
          {
              "id": "roads_tunnels_other_casing",
              "type": "line",
              "source": "protomaps",
              "source-layer": "roads",
              "filter": [
                  "all",
                  [
                      "<",
                      "pmap:level",
                      0
                  ],
                  [
                      "in",
                      "pmap:kind",
                      "other",
                      "path"
                  ]
              ],
              "paint": {
                  "line-color": "#d6d6d6",
                  "line-gap-width": [
                      "interpolate",
                      [
                          "exponential",
                          1.6
                      ],
                      [
                          "zoom"
                      ],
                      14,
                      0,
                      20,
                      7
                  ]
              }
          },
          {
              "id": "roads_tunnels_minor_casing",
              "type": "line",
              "source": "protomaps",
              "source-layer": "roads",
              "filter": [
                  "all",
                  [
                      "<",
                      "pmap:level",
                      0
                  ],
                  [
                      "==",
                      "pmap:kind",
                      "minor_road"
                  ]
              ],
              "paint": {
                  "line-color": "#fcfcfc",
                  "line-dasharray": [
                      3,
                      2
                  ],
                  "line-gap-width": [
                      "interpolate",
                      [
                          "exponential",
                          1.6
                      ],
                      [
                          "zoom"
                      ],
                      11,
                      0,
                      12.5,
                      0.5,
                      15,
                      2,
                      18,
                      11
                  ],
                  "line-width": [
                      "interpolate",
                      [
                          "exponential",
                          1.6
                      ],
                      [
                          "zoom"
                      ],
                      12,
                      0,
                      12.5,
                      1
                  ]
              }
          },
          {
              "id": "roads_tunnels_link_casing",
              "type": "line",
              "source": "protomaps",
              "source-layer": "roads",
              "filter": [
                  "all",
                  [
                      "<",
                      "pmap:level",
                      0
                  ],
                  [
                      "==",
                      "pmap:link",
                      1
                  ]
              ],
              "paint": {
                  "line-color": "#fcfcfc",
                  "line-dasharray": [
                      3,
                      2
                  ],
                  "line-gap-width": [
                      "interpolate",
                      [
                          "exponential",
                          1.6
                      ],
                      [
                          "zoom"
                      ],
                      13,
                      0,
                      13.5,
                      1,
                      18,
                      11
                  ],
                  "line-width": [
                      "interpolate",
                      [
                          "exponential",
                          1.6
                      ],
                      [
                          "zoom"
                      ],
                      12,
                      0,
                      12.5,
                      1
                  ]
              }
          },
          {
              "id": "roads_tunnels_medium_casing",
              "type": "line",
              "source": "protomaps",
              "source-layer": "roads",
              "filter": [
                  "all",
                  [
                      "<",
                      "pmap:level",
                      0
                  ],
                  [
                      "==",
                      "pmap:kind",
                      "medium_road"
                  ]
              ],
              "paint": {
                  "line-color": "#fcfcfc",
                  "line-dasharray": [
                      3,
                      2
                  ],
                  "line-gap-width": [
                      "interpolate",
                      [
                          "exponential",
                          1.6
                      ],
                      [
                          "zoom"
                      ],
                      7,
                      0,
                      7.5,
                      0.5,
                      18,
                      13
                  ],
                  "line-width": [
                      "interpolate",
                      [
                          "exponential",
                          1.6
                      ],
                      [
                          "zoom"
                      ],
                      10,
                      0,
                      10.5,
                      1
                  ]
              }
          },
          {
              "id": "roads_tunnels_major_casing",
              "type": "line",
              "source": "protomaps",
              "source-layer": "roads",
              "filter": [
                  "all",
                  [
                      "<",
                      "pmap:level",
                      0
                  ],
                  [
                      "==",
                      "pmap:kind",
                      "major_road"
                  ]
              ],
              "paint": {
                  "line-color": "#fcfcfc",
                  "line-dasharray": [
                      3,
                      2
                  ],
                  "line-gap-width": [
                      "interpolate",
                      [
                          "exponential",
                          1.6
                      ],
                      [
                          "zoom"
                      ],
                      7,
                      0,
                      7.5,
                      0.5,
                      18,
                      13
                  ],
                  "line-width": [
                      "interpolate",
                      [
                          "exponential",
                          1.6
                      ],
                      [
                          "zoom"
                      ],
                      9,
                      0,
                      9.5,
                      1
                  ]
              }
          },
          {
              "id": "roads_tunnels_highway_casing",
              "type": "line",
              "source": "protomaps",
              "source-layer": "roads",
              "filter": [
                  "all",
                  [
                      "<",
                      "pmap:level",
                      0
                  ],
                  [
                      "==",
                      "pmap:kind",
                      "highway"
                  ],
                  [
                      "!=",
                      "pmap:link",
                      1
                  ]
              ],
              "paint": {
                  "line-color": "#fcfcfc",
                  "line-dasharray": [
                      6,
                      0.5
                  ],
                  "line-gap-width": [
                      "interpolate",
                      [
                          "exponential",
                          1.6
                      ],
                      [
                          "zoom"
                      ],
                      3,
                      0,
                      3.5,
                      0.5,
                      18,
                      15
                  ],
                  "line-width": [
                      "interpolate",
                      [
                          "exponential",
                          1.6
                      ],
                      [
                          "zoom"
                      ],
                      7,
                      0,
                      7.5,
                      1,
                      20,
                      15
                  ]
              }
          },
          {
              "id": "roads_tunnels_other",
              "type": "line",
              "source": "protomaps",
              "source-layer": "roads",
              "filter": [
                  "all",
                  [
                      "<",
                      "pmap:level",
                      0
                  ],
                  [
                      "in",
                      "pmap:kind",
                      "other",
                      "path"
                  ]
              ],
              "paint": {
                  "line-color": "#d6d6d6",
                  "line-dasharray": [
                      4.5,
                      0.5
                  ],
                  "line-width": [
                      "interpolate",
                      [
                          "exponential",
                          1.6
                      ],
                      [
                          "zoom"
                      ],
                      14,
                      0,
                      20,
                      7
                  ]
              }
          },
          {
              "id": "roads_tunnels_minor",
              "type": "line",
              "source": "protomaps",
              "source-layer": "roads",
              "filter": [
                  "all",
                  [
                      "<",
                      "pmap:level",
                      0
                  ],
                  [
                      "==",
                      "pmap:kind",
                      "minor_road"
                  ]
              ],
              "paint": {
                  "line-color": "#d6d6d6",
                  "line-width": [
                      "interpolate",
                      [
                          "exponential",
                          1.6
                      ],
                      [
                          "zoom"
                      ],
                      11,
                      0,
                      12.5,
                      0.5,
                      15,
                      2,
                      18,
                      11
                  ]
              }
          },
          {
              "id": "roads_tunnels_link",
              "type": "line",
              "source": "protomaps",
              "source-layer": "roads",
              "filter": [
                  "all",
                  [
                      "<",
                      "pmap:level",
                      0
                  ],
                  [
                      "==",
                      "pmap:link",
                      1
                  ]
              ],
              "paint": {
                  "line-color": "#d6d6d6",
                  "line-width": [
                      "interpolate",
                      [
                          "exponential",
                          1.6
                      ],
                      [
                          "zoom"
                      ],
                      13,
                      0,
                      13.5,
                      1,
                      18,
                      11
                  ]
              }
          },
          {
              "id": "roads_tunnels_medium",
              "type": "line",
              "source": "protomaps",
              "source-layer": "roads",
              "filter": [
                  "all",
                  [
                      "<",
                      "pmap:level",
                      0
                  ],
                  [
                      "==",
                      "pmap:kind",
                      "medium_road"
                  ]
              ],
              "paint": {
                  "line-color": "#d6d6d6",
                  "line-width": [
                      "interpolate",
                      [
                          "exponential",
                          1.6
                      ],
                      [
                          "zoom"
                      ],
                      7,
                      0,
                      12,
                      1.2,
                      15,
                      3,
                      18,
                      13
                  ]
              }
          },
          {
              "id": "roads_tunnels_major",
              "type": "line",
              "source": "protomaps",
              "source-layer": "roads",
              "filter": [
                  "all",
                  [
                      "<",
                      "pmap:level",
                      0
                  ],
                  [
                      "==",
                      "pmap:kind",
                      "major_road"
                  ]
              ],
              "paint": {
                  "line-color": "#d6d6d6",
                  "line-width": [
                      "interpolate",
                      [
                          "exponential",
                          1.6
                      ],
                      [
                          "zoom"
                      ],
                      6,
                      0,
                      12,
                      1.6,
                      15,
                      3,
                      18,
                      13
                  ]
              }
          },
          {
              "id": "roads_tunnels_highway",
              "type": "line",
              "source": "protomaps",
              "source-layer": "roads",
              "filter": [
                  "all",
                  [
                      "<",
                      "pmap:level",
                      0
                  ],
                  [
                      "==",
                      "pmap:kind",
                      "highway"
                  ],
                  [
                      "!=",
                      "pmap:link",
                      1
                  ]
              ],
              "paint": {
                  "line-color": "#d6d6d6",
                  "line-width": [
                      "interpolate",
                      [
                          "exponential",
                          1.6
                      ],
                      [
                          "zoom"
                      ],
                      3,
                      0,
                      6,
                      1.1,
                      12,
                      1.6,
                      15,
                      5,
                      18,
                      15
                  ]
              }
          },
          {
              "id": "physical_line_stream",
              "type": "line",
              "source": "protomaps",
              "source-layer": "physical_line",
              "minzoom": 14,
              "filter": [
                  "all",
                  [
                      "in",
                      "pmap:kind",
                      "stream"
                  ]
              ],
              "paint": {
                  "line-color": "#dcdcdc",
                  "line-width": 0.5
              }
          },
          {
              "id": "physical_line_river",
              "type": "line",
              "source": "protomaps",
              "source-layer": "physical_line",
              "minzoom": 9,
              "filter": [
                  "all",
                  [
                      "in",
                      "pmap:kind",
                      "river"
                  ]
              ],
              "paint": {
                  "line-color": "#dcdcdc",
                  "line-width": [
                      "interpolate",
                      [
                          "exponential",
                          1.6
                      ],
                      [
                          "zoom"
                      ],
                      9,
                      0,
                      9.5,
                      1,
                      18,
                      12
                  ]
              }
          },
          {
              "id": "buildings",
              "type": "fill",
              "source": "protomaps",
              "source-layer": "buildings",
              "paint": {
                  "fill-color": "#efefef",
                  "fill-opacity": 0.5
              }
          },
          {
              "id": "transit_pier",
              "type": "line",
              "source": "protomaps",
              "source-layer": "transit",
              "filter": [
                  "any",
                  [
                      "==",
                      "pmap:kind",
                      "pier"
                  ]
              ],
              "paint": {
                  "line-color": "#efefef",
                  "line-width": [
                      "interpolate",
                      [
                          "exponential",
                          1.6
                      ],
                      [
                          "zoom"
                      ],
                      12,
                      0,
                      12.5,
                      0.5,
                      20,
                      16
                  ]
              }
          },
          {
              "id": "roads_minor_service_casing",
              "type": "line",
              "source": "protomaps",
              "source-layer": "roads",
              "minzoom": 13,
              "filter": [
                  "all",
                  [
                      "==",
                      "pmap:level",
                      0
                  ],
                  [
                      "==",
                      "pmap:kind",
                      "minor_road"
                  ],
                  [
                      "==",
                      "pmap:kind_detail",
                      "service"
                  ]
              ],
              "paint": {
                  "line-color": "#ffffff",
                  "line-gap-width": [
                      "interpolate",
                      [
                          "exponential",
                          1.6
                      ],
                      [
                          "zoom"
                      ],
                      13,
                      0,
                      18,
                      8
                  ],
                  "line-width": [
                      "interpolate",
                      [
                          "exponential",
                          1.6
                      ],
                      [
                          "zoom"
                      ],
                      13,
                      0,
                      13.5,
                      0.8
                  ]
              }
          },
          {
              "id": "roads_minor_casing",
              "type": "line",
              "source": "protomaps",
              "source-layer": "roads",
              "filter": [
                  "all",
                  [
                      "==",
                      "pmap:level",
                      0
                  ],
                  [
                      "==",
                      "pmap:kind",
                      "minor_road"
                  ],
                  [
                      "!=",
                      "pmap:kind_detail",
                      "service"
                  ]
              ],
              "paint": {
                  "line-color": "#ffffff",
                  "line-gap-width": [
                      "interpolate",
                      [
                          "exponential",
                          1.6
                      ],
                      [
                          "zoom"
                      ],
                      11,
                      0,
                      12.5,
                      0.5,
                      15,
                      2,
                      18,
                      11
                  ],
                  "line-width": [
                      "interpolate",
                      [
                          "exponential",
                          1.6
                      ],
                      [
                          "zoom"
                      ],
                      12,
                      0,
                      12.5,
                      1
                  ]
              }
          },
          {
              "id": "roads_link_casing",
              "type": "line",
              "source": "protomaps",
              "source-layer": "roads",
              "minzoom": 13,
              "filter": [
                  "all",
                  [
                      "==",
                      "pmap:link",
                      1
                  ]
              ],
              "paint": {
                  "line-color": "#ffffff",
                  "line-gap-width": [
                      "interpolate",
                      [
                          "exponential",
                          1.6
                      ],
                      [
                          "zoom"
                      ],
                      13,
                      0,
                      13.5,
                      1,
                      18,
                      11
                  ],
                  "line-width": [
                      "interpolate",
                      [
                          "exponential",
                          1.6
                      ],
                      [
                          "zoom"
                      ],
                      13,
                      0,
                      13.5,
                      1.5
                  ]
              }
          },
          {
              "id": "roads_medium_casing",
              "type": "line",
              "source": "protomaps",
              "source-layer": "roads",
              "filter": [
                  "all",
                  [
                      "==",
                      "pmap:level",
                      0
                  ],
                  [
                      "==",
                      "pmap:kind",
                      "medium_road"
                  ]
              ],
              "paint": {
                  "line-color": "#ffffff",
                  "line-gap-width": [
                      "interpolate",
                      [
                          "exponential",
                          1.6
                      ],
                      [
                          "zoom"
                      ],
                      7,
                      0,
                      12,
                      1.2,
                      15,
                      3,
                      18,
                      13
                  ],
                  "line-width": [
                      "interpolate",
                      [
                          "exponential",
                          1.6
                      ],
                      [
                          "zoom"
                      ],
                      10,
                      0,
                      10.5,
                      1.5
                  ]
              }
          },
          {
              "id": "roads_major_casing_late",
              "type": "line",
              "source": "protomaps",
              "source-layer": "roads",
              "minzoom": 12,
              "filter": [
                  "all",
                  [
                      "==",
                      "pmap:level",
                      0
                  ],
                  [
                      "==",
                      "pmap:kind",
                      "major_road"
                  ]
              ],
              "paint": {
                  "line-color": "#ffffff",
                  "line-gap-width": [
                      "interpolate",
                      [
                          "exponential",
                          1.6
                      ],
                      [
                          "zoom"
                      ],
                      6,
                      0,
                      12,
                      1.6,
                      15,
                      3,
                      18,
                      13
                  ],
                  "line-width": [
                      "interpolate",
                      [
                          "exponential",
                          1.6
                      ],
                      [
                          "zoom"
                      ],
                      9,
                      0,
                      9.5,
                      1
                  ]
              }
          },
          {
              "id": "roads_highway_casing_late",
              "type": "line",
              "source": "protomaps",
              "source-layer": "roads",
              "minzoom": 12,
              "filter": [
                  "all",
                  [
                      "==",
                      "pmap:level",
                      0
                  ],
                  [
                      "==",
                      "pmap:kind",
                      "highway"
                  ],
                  [
                      "!=",
                      "pmap:link",
                      1
                  ]
              ],
              "paint": {
                  "line-color": "#ffffff",
                  "line-gap-width": [
                      "interpolate",
                      [
                          "exponential",
                          1.6
                      ],
                      [
                          "zoom"
                      ],
                      3,
                      0,
                      3.5,
                      0.5,
                      18,
                      15
                  ],
                  "line-width": [
                      "interpolate",
                      [
                          "exponential",
                          1.6
                      ],
                      [
                          "zoom"
                      ],
                      7,
                      0,
                      7.5,
                      1,
                      20,
                      15
                  ]
              }
          },
          {
              "id": "roads_other",
              "type": "line",
              "source": "protomaps",
              "source-layer": "roads",
              "filter": [
                  "all",
                  [
                      "==",
                      "pmap:level",
                      0
                  ],
                  [
                      "in",
                      "pmap:kind",
                      "other",
                      "path"
                  ]
              ],
              "paint": {
                  "line-color": "#f5f5f5",
                  "line-dasharray": [
                      3,
                      1
                  ],
                  "line-width": [
                      "interpolate",
                      [
                          "exponential",
                          1.6
                      ],
                      [
                          "zoom"
                      ],
                      14,
                      0,
                      20,
                      7
                  ]
              }
          },
          {
              "id": "roads_link",
              "type": "line",
              "source": "protomaps",
              "source-layer": "roads",
              "filter": [
                  "all",
                  [
                      "==",
                      "pmap:link",
                      1
                  ]
              ],
              "paint": {
                  "line-color": "#ebebeb",
                  "line-width": [
                      "interpolate",
                      [
                          "exponential",
                          1.6
                      ],
                      [
                          "zoom"
                      ],
                      13,
                      0,
                      13.5,
                      1,
                      18,
                      11
                  ]
              }
          },
          {
              "id": "roads_minor_service",
              "type": "line",
              "source": "protomaps",
              "source-layer": "roads",
              "filter": [
                  "all",
                  [
                      "==",
                      "pmap:level",
                      0
                  ],
                  [
                      "==",
                      "pmap:kind",
                      "minor_road"
                  ],
                  [
                      "==",
                      "pmap:kind_detail",
                      "service"
                  ]
              ],
              "paint": {
                  "line-color": "#f5f5f5",
                  "line-width": [
                      "interpolate",
                      [
                          "exponential",
                          1.6
                      ],
                      [
                          "zoom"
                      ],
                      13,
                      0,
                      18,
                      8
                  ]
              }
          },
          {
              "id": "roads_minor",
              "type": "line",
              "source": "protomaps",
              "source-layer": "roads",
              "filter": [
                  "all",
                  [
                      "==",
                      "pmap:level",
                      0
                  ],
                  [
                      "==",
                      "pmap:kind",
                      "minor_road"
                  ],
                  [
                      "!=",
                      "pmap:kind_detail",
                      "service"
                  ]
              ],
              "paint": {
                  "line-color": [
                      "interpolate",
                      [
                          "exponential",
                          1.6
                      ],
                      [
                          "zoom"
                      ],
                      11,
                      "#ebebeb",
                      16,
                      "#f5f5f5"
                  ],
                  "line-width": [
                      "interpolate",
                      [
                          "exponential",
                          1.6
                      ],
                      [
                          "zoom"
                      ],
                      11,
                      0,
                      12.5,
                      0.5,
                      15,
                      2,
                      18,
                      11
                  ]
              }
          },
          {
              "id": "roads_medium",
              "type": "line",
              "source": "protomaps",
              "source-layer": "roads",
              "filter": [
                  "all",
                  [
                      "==",
                      "pmap:level",
                      0
                  ],
                  [
                      "==",
                      "pmap:kind",
                      "medium_road"
                  ]
              ],
              "paint": {
                  "line-color": "#ebebeb",
                  "line-width": [
                      "interpolate",
                      [
                          "exponential",
                          1.6
                      ],
                      [
                          "zoom"
                      ],
                      7,
                      0,
                      12,
                      1.2,
                      15,
                      3,
                      18,
                      13
                  ]
              }
          },
          {
              "id": "roads_major_casing_early",
              "type": "line",
              "source": "protomaps",
              "source-layer": "roads",
              "maxzoom": 12,
              "filter": [
                  "all",
                  [
                      "==",
                      "pmap:level",
                      0
                  ],
                  [
                      "==",
                      "pmap:kind",
                      "major_road"
                  ]
              ],
              "paint": {
                  "line-color": "#ffffff",
                  "line-gap-width": [
                      "interpolate",
                      [
                          "exponential",
                          1.6
                      ],
                      [
                          "zoom"
                      ],
                      7,
                      0,
                      7.5,
                      0.5,
                      18,
                      13
                  ],
                  "line-width": [
                      "interpolate",
                      [
                          "exponential",
                          1.6
                      ],
                      [
                          "zoom"
                      ],
                      9,
                      0,
                      9.5,
                      1
                  ]
              }
          },
          {
              "id": "roads_major",
              "type": "line",
              "source": "protomaps",
              "source-layer": "roads",
              "filter": [
                  "all",
                  [
                      "==",
                      "pmap:level",
                      0
                  ],
                  [
                      "==",
                      "pmap:kind",
                      "major_road"
                  ]
              ],
              "paint": {
                  "line-color": "#ebebeb",
                  "line-width": [
                      "interpolate",
                      [
                          "exponential",
                          1.6
                      ],
                      [
                          "zoom"
                      ],
                      6,
                      0,
                      12,
                      1.6,
                      15,
                      3,
                      18,
                      13
                  ]
              }
          },
          {
              "id": "roads_highway_casing_early",
              "type": "line",
              "source": "protomaps",
              "source-layer": "roads",
              "maxzoom": 12,
              "filter": [
                  "all",
                  [
                      "==",
                      "pmap:level",
                      0
                  ],
                  [
                      "==",
                      "pmap:kind",
                      "highway"
                  ],
                  [
                      "!=",
                      "pmap:link",
                      1
                  ]
              ],
              "paint": {
                  "line-color": "#ffffff",
                  "line-gap-width": [
                      "interpolate",
                      [
                          "exponential",
                          1.6
                      ],
                      [
                          "zoom"
                      ],
                      3,
                      0,
                      3.5,
                      0.5,
                      18,
                      15
                  ],
                  "line-width": [
                      "interpolate",
                      [
                          "exponential",
                          1.6
                      ],
                      [
                          "zoom"
                      ],
                      7,
                      0,
                      7.5,
                      1
                  ]
              }
          },
          {
              "id": "roads_highway",
              "type": "line",
              "source": "protomaps",
              "source-layer": "roads",
              "filter": [
                  "all",
                  [
                      "==",
                      "pmap:level",
                      0
                  ],
                  [
                      "==",
                      "pmap:kind",
                      "highway"
                  ],
                  [
                      "!=",
                      "pmap:link",
                      1
                  ]
              ],
              "paint": {
                  "line-color": "#ebebeb",
                  "line-width": [
                      "interpolate",
                      [
                          "exponential",
                          1.6
                      ],
                      [
                          "zoom"
                      ],
                      3,
                      0,
                      6,
                      1.1,
                      12,
                      1.6,
                      15,
                      5,
                      18,
                      15
                  ]
              }
          },
          {
              "id": "transit_railway",
              "type": "line",
              "source": "protomaps",
              "source-layer": "transit",
              "filter": [
                  "all",
                  [
                      "==",
                      "pmap:kind",
                      "rail"
                  ]
              ],
              "paint": {
                  "line-dasharray": [
                      0.3,
                      0.75
                  ],
                  "line-opacity": 0.5,
                  "line-color": "#d6d6d6",
                  "line-width": [
                      "interpolate",
                      [
                          "exponential",
                          1.6
                      ],
                      [
                          "zoom"
                      ],
                      3,
                      0,
                      6,
                      0.15,
                      18,
                      9
                  ]
              }
          },
          {
              "id": "boundaries_country",
              "type": "line",
              "source": "protomaps",
              "source-layer": "boundaries",
              "filter": [
                  "<=",
                  "pmap:min_admin_level",
                  2
              ],
              "paint": {
                  "line-color": "#adadad",
                  "line-width": 1,
                  "line-dasharray": [
                      3,
                      2
                  ]
              }
          },
          {
              "id": "boundaries",
              "type": "line",
              "source": "protomaps",
              "source-layer": "boundaries",
              "filter": [
                  ">",
                  "pmap:min_admin_level",
                  2
              ],
              "paint": {
                  "line-color": "#adadad",
                  "line-width": 0.5,
                  "line-dasharray": [
                      3,
                      2
                  ]
              }
          },
          {
              "id": "roads_bridges_other_casing",
              "type": "line",
              "source": "protomaps",
              "source-layer": "roads",
              "minzoom": 12,
              "filter": [
                  "all",
                  [
                      ">",
                      "pmap:level",
                      0
                  ],
                  [
                      "in",
                      "pmap:kind",
                      "other",
                      "path"
                  ]
              ],
              "paint": {
                  "line-color": "#ffffff",
                  "line-gap-width": [
                      "interpolate",
                      [
                          "exponential",
                          1.6
                      ],
                      [
                          "zoom"
                      ],
                      14,
                      0,
                      20,
                      7
                  ]
              }
          },
          {
              "id": "roads_bridges_link_casing",
              "type": "line",
              "source": "protomaps",
              "source-layer": "roads",
              "minzoom": 12,
              "filter": [
                  "all",
                  [
                      ">",
                      "pmap:level",
                      0
                  ],
                  [
                      "==",
                      "pmap:link",
                      1
                  ]
              ],
              "paint": {
                  "line-color": "#ffffff",
                  "line-gap-width": [
                      "interpolate",
                      [
                          "exponential",
                          1.6
                      ],
                      [
                          "zoom"
                      ],
                      13,
                      0,
                      13.5,
                      1,
                      18,
                      11
                  ],
                  "line-width": [
                      "interpolate",
                      [
                          "exponential",
                          1.6
                      ],
                      [
                          "zoom"
                      ],
                      12,
                      0,
                      12.5,
                      1.5
                  ]
              }
          },
          {
              "id": "roads_bridges_minor_casing",
              "type": "line",
              "source": "protomaps",
              "source-layer": "roads",
              "minzoom": 12,
              "filter": [
                  "all",
                  [
                      ">",
                      "pmap:level",
                      0
                  ],
                  [
                      "==",
                      "pmap:kind",
                      "minor_road"
                  ]
              ],
              "paint": {
                  "line-color": "#ffffff",
                  "line-gap-width": [
                      "interpolate",
                      [
                          "exponential",
                          1.6
                      ],
                      [
                          "zoom"
                      ],
                      11,
                      0,
                      12.5,
                      0.5,
                      15,
                      2,
                      18,
                      11
                  ],
                  "line-width": [
                      "interpolate",
                      [
                          "exponential",
                          1.6
                      ],
                      [
                          "zoom"
                      ],
                      13,
                      0,
                      13.5,
                      0.8
                  ]
              }
          },
          {
              "id": "roads_bridges_medium_casing",
              "type": "line",
              "source": "protomaps",
              "source-layer": "roads",
              "minzoom": 12,
              "filter": [
                  "all",
                  [
                      ">",
                      "pmap:level",
                      0
                  ],
                  [
                      "==",
                      "pmap:kind",
                      "medium_road"
                  ]
              ],
              "paint": {
                  "line-color": "#ffffff",
                  "line-gap-width": [
                      "interpolate",
                      [
                          "exponential",
                          1.6
                      ],
                      [
                          "zoom"
                      ],
                      7,
                      0,
                      12,
                      1.2,
                      15,
                      3,
                      18,
                      13
                  ],
                  "line-width": [
                      "interpolate",
                      [
                          "exponential",
                          1.6
                      ],
                      [
                          "zoom"
                      ],
                      10,
                      0,
                      10.5,
                      1.5
                  ]
              }
          },
          {
              "id": "roads_bridges_major_casing",
              "type": "line",
              "source": "protomaps",
              "source-layer": "roads",
              "minzoom": 12,
              "filter": [
                  "all",
                  [
                      ">",
                      "pmap:level",
                      0
                  ],
                  [
                      "==",
                      "pmap:kind",
                      "major_road"
                  ]
              ],
              "paint": {
                  "line-color": "#ffffff",
                  "line-gap-width": [
                      "interpolate",
                      [
                          "exponential",
                          1.6
                      ],
                      [
                          "zoom"
                      ],
                      7,
                      0,
                      7.5,
                      0.5,
                      18,
                      10
                  ],
                  "line-width": [
                      "interpolate",
                      [
                          "exponential",
                          1.6
                      ],
                      [
                          "zoom"
                      ],
                      9,
                      0,
                      9.5,
                      1.5
                  ]
              }
          },
          {
              "id": "roads_bridges_other",
              "type": "line",
              "source": "protomaps",
              "source-layer": "roads",
              "minzoom": 12,
              "filter": [
                  "all",
                  [
                      ">",
                      "pmap:level",
                      0
                  ],
                  [
                      "in",
                      "pmap:kind",
                      "other",
                      "path"
                  ]
              ],
              "paint": {
                  "line-color": "#f5f5f5",
                  "line-dasharray": [
                      2,
                      1
                  ],
                  "line-width": [
                      "interpolate",
                      [
                          "exponential",
                          1.6
                      ],
                      [
                          "zoom"
                      ],
                      14,
                      0,
                      20,
                      7
                  ]
              }
          },
          {
              "id": "roads_bridges_minor",
              "type": "line",
              "source": "protomaps",
              "source-layer": "roads",
              "minzoom": 12,
              "filter": [
                  "all",
                  [
                      ">",
                      "pmap:level",
                      0
                  ],
                  [
                      "==",
                      "pmap:kind",
                      "minor_road"
                  ]
              ],
              "paint": {
                  "line-color": "#f5f5f5",
                  "line-width": [
                      "interpolate",
                      [
                          "exponential",
                          1.6
                      ],
                      [
                          "zoom"
                      ],
                      11,
                      0,
                      12.5,
                      0.5,
                      15,
                      2,
                      18,
                      11
                  ]
              }
          },
          {
              "id": "roads_bridges_link",
              "type": "line",
              "source": "protomaps",
              "source-layer": "roads",
              "minzoom": 12,
              "filter": [
                  "all",
                  [
                      ">",
                      "pmap:level",
                      0
                  ],
                  [
                      "==",
                      "pmap:link",
                      1
                  ]
              ],
              "paint": {
                  "line-color": "#f5f5f5",
                  "line-width": [
                      "interpolate",
                      [
                          "exponential",
                          1.6
                      ],
                      [
                          "zoom"
                      ],
                      13,
                      0,
                      13.5,
                      1,
                      18,
                      11
                  ]
              }
          },
          {
              "id": "roads_bridges_medium",
              "type": "line",
              "source": "protomaps",
              "source-layer": "roads",
              "minzoom": 12,
              "filter": [
                  "all",
                  [
                      ">",
                      "pmap:level",
                      0
                  ],
                  [
                      "==",
                      "pmap:kind",
                      "medium_road"
                  ]
              ],
              "paint": {
                  "line-color": "#ebebeb",
                  "line-width": [
                      "interpolate",
                      [
                          "exponential",
                          1.6
                      ],
                      [
                          "zoom"
                      ],
                      7,
                      0,
                      12,
                      1.2,
                      15,
                      3,
                      18,
                      13
                  ]
              }
          },
          {
              "id": "roads_bridges_major",
              "type": "line",
              "source": "protomaps",
              "source-layer": "roads",
              "minzoom": 12,
              "filter": [
                  "all",
                  [
                      ">",
                      "pmap:level",
                      0
                  ],
                  [
                      "==",
                      "pmap:kind",
                      "major_road"
                  ]
              ],
              "paint": {
                  "line-color": "#ebebeb",
                  "line-width": [
                      "interpolate",
                      [
                          "exponential",
                          1.6
                      ],
                      [
                          "zoom"
                      ],
                      6,
                      0,
                      12,
                      1.6,
                      15,
                      3,
                      18,
                      13
                  ]
              }
          },
          {
              "id": "roads_bridges_highway_casing",
              "type": "line",
              "source": "protomaps",
              "source-layer": "roads",
              "minzoom": 12,
              "filter": [
                  "all",
                  [
                      ">",
                      "pmap:level",
                      0
                  ],
                  [
                      "==",
                      "pmap:kind",
                      "highway"
                  ],
                  [
                      "!=",
                      "pmap:link",
                      1
                  ]
              ],
              "paint": {
                  "line-color": "#ffffff",
                  "line-gap-width": [
                      "interpolate",
                      [
                          "exponential",
                          1.6
                      ],
                      [
                          "zoom"
                      ],
                      3,
                      0,
                      3.5,
                      0.5,
                      18,
                      15
                  ],
                  "line-width": [
                      "interpolate",
                      [
                          "exponential",
                          1.6
                      ],
                      [
                          "zoom"
                      ],
                      7,
                      0,
                      7.5,
                      1,
                      20,
                      15
                  ]
              }
          },
          {
              "id": "roads_bridges_highway",
              "type": "line",
              "source": "protomaps",
              "source-layer": "roads",
              "filter": [
                  "all",
                  [
                      ">",
                      "pmap:level",
                      0
                  ],
                  [
                      "==",
                      "pmap:kind",
                      "highway"
                  ],
                  [
                      "!=",
                      "pmap:link",
                      1
                  ]
              ],
              "paint": {
                  "line-color": "#ebebeb",
                  "line-width": [
                      "interpolate",
                      [
                          "exponential",
                          1.6
                      ],
                      [
                          "zoom"
                      ],
                      3,
                      0,
                      6,
                      1.1,
                      12,
                      1.6,
                      15,
                      5,
                      18,
                      15
                  ]
              }
          },
          {
              "id": "physical_line_waterway_label",
              "type": "symbol",
              "source": "protomaps",
              "source-layer": "physical_line",
              "minzoom": 13,
              "filter": [
                  "all",
                  [
                      "in",
                      "pmap:kind",
                      "river",
                      "stream"
                  ]
              ],
              "layout": {
                  "symbol-placement": "line",
                  "text-font": [
                      "Noto Sans Regular"
                  ],
                  "text-field": [
                      "get",
                      "name"
                  ],
                  "text-size": 12,
                  "text-letter-spacing": 0.3
              },
              "paint": {
                  "text-color": "#adadad"
              }
          },
          {
              "id": "physical_point_peak",
              "type": "symbol",
              "source": "protomaps",
              "source-layer": "physical_point",
              "filter": [
                  "any",
                  [
                      "==",
                      "pmap:kind",
                      "peak"
                  ]
              ],
              "layout": {
                  "text-font": [
                      "Noto Sans Italic"
                  ],
                  "text-field": [
                      "get",
                      "name"
                  ],
                  "text-size": [
                      "interpolate",
                      [
                          "linear"
                      ],
                      [
                          "zoom"
                      ],
                      10,
                      8,
                      16,
                      12
                  ],
                  "text-letter-spacing": 0.1,
                  "text-max-width": 9
              },
              "paint": {
                  "text-color": "#adadad",
                  "text-halo-width": 1.5
              }
          },
          {
              "id": "roads_labels_minor",
              "type": "symbol",
              "source": "protomaps",
              "source-layer": "roads",
              "minzoom": 15,
              "filter": [
                  "any",
                  [
                      "in",
                      "pmap:kind",
                      "minor_road",
                      "other",
                      "path"
                  ]
              ],
              "layout": {
                  "symbol-sort-key": [
                      "get",
                      "pmap:min_zoom"
                  ],
                  "symbol-placement": "line",
                  "text-font": [
                      "Noto Sans Regular"
                  ],
                  "text-field": [
                      "get",
                      "name"
                  ],
                  "text-size": 12
              },
              "paint": {
                  "text-color": "#adadad",
                  "text-halo-color": "#ffffff",
                  "text-halo-width": 2
              }
          },
          {
              "id": "physical_point_ocean",
              "type": "symbol",
              "source": "protomaps",
              "source-layer": "physical_point",
              "filter": [
                  "any",
                  [
                      "in",
                      "pmap:kind",
                      "sea",
                      "ocean",
                      "lake",
                      "water",
                      "bay",
                      "strait",
                      "fjord"
                  ]
              ],
              "layout": {
                  "text-font": [
                      "Noto Sans Medium"
                  ],
                  "text-field": [
                      "get",
                      "name"
                  ],
                  "text-size": [
                      "interpolate",
                      [
                          "linear"
                      ],
                      [
                          "zoom"
                      ],
                      3,
                      10,
                      10,
                      12
                  ],
                  "text-letter-spacing": 0.1,
                  "text-max-width": 9,
                  "text-transform": "uppercase"
              },
              "paint": {
                  "text-color": "#adadad"
              }
          },
          {
              "id": "physical_point_lakes",
              "type": "symbol",
              "source": "protomaps",
              "source-layer": "physical_point",
              "filter": [
                  "any",
                  [
                      "in",
                      "pmap:kind",
                      "lake",
                      "water"
                  ]
              ],
              "layout": {
                  "text-font": [
                      "Noto Sans Medium"
                  ],
                  "text-field": [
                      "get",
                      "name"
                  ],
                  "text-size": [
                      "interpolate",
                      [
                          "linear"
                      ],
                      [
                          "zoom"
                      ],
                      3,
                      0,
                      6,
                      12,
                      10,
                      12
                  ],
                  "text-letter-spacing": 0.1,
                  "text-max-width": 9
              },
              "paint": {
                  "text-color": "#adadad"
              }
          },
          {
              "id": "roads_labels_major",
              "type": "symbol",
              "source": "protomaps",
              "source-layer": "roads",
              "minzoom": 11,
              "filter": [
                  "any",
                  [
                      "in",
                      "pmap:kind",
                      "highway",
                      "major_road",
                      "medium_road"
                  ]
              ],
              "layout": {
                  "symbol-sort-key": [
                      "get",
                      "pmap:min_zoom"
                  ],
                  "symbol-placement": "line",
                  "text-font": [
                      "Noto Sans Regular"
                  ],
                  "text-field": [
                      "get",
                      "name"
                  ],
                  "text-size": 12
              },
              "paint": {
                  "text-color": "#999999",
                  "text-halo-color": "#ffffff",
                  "text-halo-width": 2
              }
          },
          {
              "id": "places_subplace",
              "type": "symbol",
              "source": "protomaps",
              "source-layer": "places",
              "filter": [
                  "==",
                  "pmap:kind",
                  "neighbourhood"
              ],
              "layout": {
                  "symbol-sort-key": [
                      "get",
                      "pmap:min_zoom"
                  ],
                  "text-field": "{name}",
                  "text-font": [
                      "Noto Sans Regular"
                  ],
                  "text-max-width": 7,
                  "text-letter-spacing": 0.1,
                  "text-padding": [
                      "interpolate",
                      [
                          "linear"
                      ],
                      [
                          "zoom"
                      ],
                      5,
                      2,
                      8,
                      4,
                      12,
                      18,
                      15,
                      20
                  ],
                  "text-size": [
                      "interpolate",
                      [
                          "exponential",
                          1.2
                      ],
                      [
                          "zoom"
                      ],
                      11,
                      8,
                      14,
                      14,
                      18,
                      24
                  ],
                  "text-transform": "uppercase"
              },
              "paint": {
                  "text-color": "#8f8f8f",
                  "text-halo-color": "#ffffff",
                  "text-halo-width": 2
              }
          },
          {
              "id": "pois_important",
              "type": "symbol",
              "source": "protomaps",
              "source-layer": "pois",
              "filter": [
                  "any",
                  [
                      "<",
                      [
                          "get",
                          "pmap:min_zoom"
                      ],
                      13
                  ]
              ],
              "layout": {
                  "symbol-sort-key": [
                      "get",
                      "pmap:min_zoom"
                  ],
                  "text-font": [
                      "Noto Sans Regular"
                  ],
                  "text-field": [
                      "get",
                      "name"
                  ],
                  "text-size": 11,
                  "text-max-width": 9,
                  "icon-padding": [
                      "interpolate",
                      [
                          "linear"
                      ],
                      [
                          "zoom"
                      ],
                      0,
                      2,
                      14,
                      2,
                      16,
                      20,
                      17,
                      2,
                      22,
                      2
                  ]
              },
              "paint": {
                  "text-color": "#8f8f8f",
                  "text-halo-color": "#ffffff",
                  "text-halo-width": 1.5
              }
          },
          {
              "id": "places_locality_circle",
              "type": "circle",
              "source": "protomaps",
              "source-layer": "places",
              "filter": [
                  "==",
                  "pmap:kind",
                  "locality"
              ],
              "paint": {
                  "circle-radius": 2,
                  "circle-stroke-width": 1.5,
                  "circle-stroke-color": "#adadad",
                  "circle-color": "#ffffff",
                  "circle-translate": [
                      -6,
                      0
                  ]
              },
              "maxzoom": 8
          },
          {
              "id": "places_locality",
              "type": "symbol",
              "source": "protomaps",
              "source-layer": "places",
              "filter": [
                  "==",
                  "pmap:kind",
                  "locality"
              ],
              "layout": {
                  "text-field": "{name}",
                  "text-font": [
                      "case",
                      [
                          "<=",
                          [
                              "get",
                              "pmap:min_zoom"
                          ],
                          5
                      ],
                      [
                          "literal",
                          [
                              "Noto Sans Medium"
                          ]
                      ],
                      [
                          "literal",
                          [
                              "Noto Sans Regular"
                          ]
                      ]
                  ],
                  "text-padding": [
                      "interpolate",
                      [
                          "linear"
                      ],
                      [
                          "zoom"
                      ],
                      5,
                      3,
                      8,
                      7,
                      12,
                      11
                  ],
                  "text-size": [
                      "interpolate",
                      [
                          "linear"
                      ],
                      [
                          "zoom"
                      ],
                      2,
                      [
                          "case",
                          [
                              "<",
                              [
                                  "get",
                                  "pmap:population_rank"
                              ],
                              13
                          ],
                          8,
                          [
                              ">=",
                              [
                                  "get",
                                  "pmap:population_rank"
                              ],
                              13
                          ],
                          13,
                          0
                      ],
                      4,
                      [
                          "case",
                          [
                              "<",
                              [
                                  "get",
                                  "pmap:population_rank"
                              ],
                              13
                          ],
                          10,
                          [
                              ">=",
                              [
                                  "get",
                                  "pmap:population_rank"
                              ],
                              13
                          ],
                          15,
                          0
                      ],
                      6,
                      [
                          "case",
                          [
                              "<",
                              [
                                  "get",
                                  "pmap:population_rank"
                              ],
                              12
                          ],
                          11,
                          [
                              ">=",
                              [
                                  "get",
                                  "pmap:population_rank"
                              ],
                              12
                          ],
                          17,
                          0
                      ],
                      8,
                      [
                          "case",
                          [
                              "<",
                              [
                                  "get",
                                  "pmap:population_rank"
                              ],
                              11
                          ],
                          11,
                          [
                              ">=",
                              [
                                  "get",
                                  "pmap:population_rank"
                              ],
                              11
                          ],
                          18,
                          0
                      ],
                      10,
                      [
                          "case",
                          [
                              "<",
                              [
                                  "get",
                                  "pmap:population_rank"
                              ],
                              9
                          ],
                          12,
                          [
                              ">=",
                              [
                                  "get",
                                  "pmap:population_rank"
                              ],
                              9
                          ],
                          20,
                          0
                      ],
                      15,
                      [
                          "case",
                          [
                              "<",
                              [
                                  "get",
                                  "pmap:population_rank"
                              ],
                              8
                          ],
                          12,
                          [
                              ">=",
                              [
                                  "get",
                                  "pmap:population_rank"
                              ],
                              8
                          ],
                          22,
                          0
                      ]
                  ],
                  "icon-padding": [
                      "interpolate",
                      [
                          "linear"
                      ],
                      [
                          "zoom"
                      ],
                      0,
                      2,
                      8,
                      4,
                      10,
                      8,
                      12,
                      6,
                      22,
                      2
                  ],
                  "text-anchor": [
                      "step",
                      [
                          "zoom"
                      ],
                      "left",
                      8,
                      "center"
                  ],
                  "text-radial-offset": 0.2
              },
              "paint": {
                  "text-color": "#5c5c5c",
                  "text-halo-color": "#ffffff",
                  "text-halo-width": 1
              }
          },
          {
              "id": "places_region",
              "type": "symbol",
              "source": "protomaps",
              "source-layer": "places",
              "filter": [
                  "==",
                  "pmap:kind",
                  "region"
              ],
              "layout": {
                  "symbol-sort-key": [
                      "get",
                      "pmap:min_zoom"
                  ],
                  "text-field": [
                      "step",
                      [
                          "zoom"
                      ],
                      [
                          "get",
                          "name:short"
                      ],
                      5,
                      [
                          "get",
                          "name"
                      ]
                  ],
                  "text-font": [
                      "Noto Sans Regular"
                  ],
                  "text-size": [
                      "interpolate",
                      [
                          "linear"
                      ],
                      [
                          "zoom"
                      ],
                      3,
                      11,
                      7,
                      24
                  ],
                  "text-radial-offset": 0.2,
                  "text-anchor": "center",
                  "text-transform": "uppercase"
              },
              "paint": {
                  "text-color": "#b3b3b3",
                  "text-halo-color": "#ffffff",
                  "text-halo-width": 2
              }
          },
          {
              "id": "places_country",
              "type": "symbol",
              "source": "protomaps",
              "source-layer": "places",
              "filter": [
                  "==",
                  "pmap:kind",
                  "country"
              ],
              "layout": {
                  "symbol-sort-key": [
                      "get",
                      "pmap:min_zoom"
                  ],
                  "text-field": "{name}",
                  "text-font": [
                      "Noto Sans Medium"
                  ],
                  "text-size": [
                      "interpolate",
                      [
                          "linear"
                      ],
                      [
                          "zoom"
                      ],
                      2,
                      [
                          "case",
                          [
                              "<",
                              [
                                  "get",
                                  "pmap:population_rank"
                              ],
                              10
                          ],
                          8,
                          [
                              ">=",
                              [
                                  "get",
                                  "pmap:population_rank"
                              ],
                              10
                          ],
                          12,
                          0
                      ],
                      6,
                      [
                          "case",
                          [
                              "<",
                              [
                                  "get",
                                  "pmap:population_rank"
                              ],
                              8
                          ],
                          10,
                          [
                              ">=",
                              [
                                  "get",
                                  "pmap:population_rank"
                              ],
                              8
                          ],
                          18,
                          0
                      ],
                      8,
                      [
                          "case",
                          [
                              "<",
                              [
                                  "get",
                                  "pmap:population_rank"
                              ],
                              7
                          ],
                          11,
                          [
                              ">=",
                              [
                                  "get",
                                  "pmap:population_rank"
                              ],
                              7
                          ],
                          20,
                          0
                      ]
                  ],
                  "icon-padding": [
                      "interpolate",
                      [
                          "linear"
                      ],
                      [
                          "zoom"
                      ],
                      0,
                      2,
                      14,
                      2,
                      16,
                      20,
                      17,
                      2,
                      22,
                      2
                  ],
                  "text-transform": "uppercase"
              },
              "paint": {
                  "text-color": "#b8b8b8"
              }
          }
      ],
      "glyphs": "https://protomaps.github.io/basemaps-assets/fonts/{fontstack}/{range}.pbf"
    },
    zoom: 15 // starting zoom
  });

  var iconSize = '25';

  var popup = new maplibregl.Popup({ offset: 25 })
    .setHTML('<h3><a href="' + building.url + '" target="_blank">' + building.name + '</a></h3><img src="' + building.image + '" width="200">');

  var marker = new maplibregl.Marker({ color: '#874a66' })
    .setLngLat([building.lng, building.lat])
    // .setPopup(popup)
    .addTo(map);
